<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CAE Test – Part 4 Sentence Transformations</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      color: #222;
      padding: 20px;
      padding-bottom: 80px; /* make room for fixed nav */
      margin: 0;
    }

    .wrapper {
      max-width: 900px;
      margin: 0 auto;
    }

    h1, h2 {
      text-align: center;
    }

    p {
      line-height: 1.5;
      margin-bottom: 1em;
    }

    .instructions {
      font-weight: bold;
      margin-bottom: 20px;
    }

    .question-block {
      margin-bottom: 20px;
      background: white;
      padding: 15px 20px;
      border-radius: 6px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }

    .question-number {
      font-weight: bold;
      margin-bottom: 8px;
    }

    .sentence {
      margin: 6px 0;
    }

    .word-given {
      font-weight: bold;
      color: #0066cc;
      margin-top: 6px;
    }

    .answer-input {
      width: 100%;
      padding: 6px 10px;
      font-size: 1em;
      margin-top: 6px;
      border: 1px solid #aaa;
      border-radius: 4px;
      text-transform: lowercase;
    }

    .example {
      background: #e9f1ff;
      border-left: 5px solid #3399ff;
      padding: 10px 15px;
      margin-bottom: 25px;
      border-radius: 4px;
    }

    .example .answer-input {
      text-transform: none;
      font-weight: bold;
      color: #0055aa;
    }

    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: #003366;
      display: flex;
      justify-content: space-around;
      padding: 12px 0;
      box-shadow: 0 -2px 5px rgba(0,0,0,0.1);
      z-index: 1000;
    }

    .bottom-nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      font-size: 1em;
      padding: 8px 12px;
      border-radius: 4px;
      transition: background-color 0.3s ease;
    }

    .bottom-nav a:hover {
      background-color: #0055a5;
    }
  </style>
</head>
<body>

  <div class="wrapper">
    <h1>CAE Use of English</h1>
    <h2>Part 4</h2>

    <p class="instructions">
      For questions <strong>17–20</strong>, complete the second sentence so that it has a similar meaning to the first sentence,
      using the word given. Do not change the word given. You must use between three and six words, including the word given.
    </p>

    <div class="example question-block">
      <div class="question-number">Example: 0</div>
      <div class="sentence">
        James would only speak to the head of department alone.
      </div>
      <div class="sentence">
        <strong>ON</strong><br />
        James insisted <input type="text" class="answer-input" value="on speaking" readonly /> to the head of department alone.
      </div>
    </div>

    <div class="question-block">
      <div class="question-number">17</div>
      <div class="sentence">
       The CEO said, "It is possible that the meeting will be postponed until after Christmas."
      </div>
      <div class="sentence">
        <span class="word-given">MAY</span><br />
        The meeting <input type="text" class="answer-input" id="q17" placeholder="Your answer here" /> until after Christmas.
      </div>
    </div>

    <div class="question-block">
      <div class="question-number">18</div>
      <div class="sentence">
        “You should try the new Italian restaurant in town,” she said.
      </div>
      <div class="sentence">
        <span class="word-given">RECOMMENDED</span><br />
        She <input type="text" class="answer-input" id="q18" placeholder="Your answer here" /> Italian restaurant in town.
      </div>
    </div>

    <div class="question-block">
      <div class="question-number">19</div>
      <div class="sentence">
        “If you want to improve, you should practise every day,” the coach said.
      </div>
      <div class="sentence">
        <span class="word-given">ADVISED</span><br />
        The coach <input type="text" class="answer-input" id="q19" placeholder="Your answer here" /> every day to improve.
      </div>
    </div>

    <div class="question-block">
      <div class="question-number">20</div>
      <div class="sentence">
        “The order arrived late,” the client said.
      </div>
      <div class="sentence">
        <span class="word-given">COMPLAINED</span><br />
        The client <input type="text" class="answer-input" id="q20" placeholder="Your answer here" /> arriving late.
      </div>
    </div>

    <!-- Submit button -->
    <div style="margin:20px 0;">
      <button onclick="checkAnswersPart4()" style="padding:10px 20px; font-size:1em; background:#003366; color:white; border:none; border-radius:4px; cursor:pointer;">
        Submit Answers
      </button>
    </div>

    <!-- Results box -->
    <div id="results" style="margin-top:30px; padding:15px; border:1px solid #ccc; background:#f9f9f9;"></div>
  </div>

  <!-- Bottom Navigation Bar -->
  <nav class="bottom-nav">
    <a href="index.html">Home</a>
    <a href="part1.html">Part 1</a>
    <a href="part2.html">Part 2</a>
    <a href="part3.html">Part 3</a>
    <a href="part4.html">Part 4</a>
  </nav>

<script>
  // Acceptable answers + explanations
  const answersPart4 = {
    q17: { 
      words: ["may be postponed"], 
      explanation: "‘May be postponed’ = possible that it will be postponed (passive)." 
    },
    q18: { 
      words: ["recommended trying the new"], 
      explanation: "‘Recommend + -ing’ when suggesting an activity: ‘She recommended trying…’" 
    },
    q19: { 
      words: ["advised him to practise", "advised her to practise", "advised us to practise", "advised them to practise"], 
      explanation: "‘Advise someone to do something’ allows different pronouns (him/her/us/them)." 
    },
    q20: { 
      words: ["complained about the order"], 
      explanation: "‘Complain about + noun/gerund’ = correct collocation." 
    }
  };

  function checkAnswersPart4() {
    let score = 0;
    let total = Object.keys(answersPart4).length;
    let resultHTML = "<h3>Results</h3><ul>";

    for (let q in answersPart4) {
      const inputEl = document.getElementById(q);
      const studentAnswer = inputEl.value.trim().toLowerCase();
      const correctList = answersPart4[q].words.map(a => a.toLowerCase());
      const explanation = answersPart4[q].explanation;

      if (correctList.some(ans => studentAnswer.includes(ans))) {
        score++;
        inputEl.style.backgroundColor = "#c8e6c9"; // green
        resultHTML += `<li>Question ${q.slice(1)} ✅ Correct (${answersPart4[q].words.join(" / ")})</li>`;
      } else {
        inputEl.style.backgroundColor = "#ffcdd2"; // red
        resultHTML += `<li>Question ${q.slice(1)} ❌ Your answer: <strong>${studentAnswer || "—"}</strong>. Acceptable answers: <strong>${answersPart4[q].words.join(" / ")}</strong><br><em>${explanation}</em></li>`;
      }
    }

    resultHTML += "</ul>";
    resultHTML += `<p><strong>Your total score: ${score} / ${total}</strong></p>`;
    document.getElementById("results").innerHTML = resultHTML;
  }
</script>

</body>
</html>
