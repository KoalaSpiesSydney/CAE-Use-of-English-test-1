<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CAE Test – Part 4 Sentence Transformations</title>

  <style>
    :root{
      /* Match your cover pages + branded test pages */
      --bg:#1e1e1e;
      --card:#2a2a2a;
      --ink:#f5f5f5;
      --muted:#bbbbbb;
      --accent:#ff7a1a;
      --line:#3a3a3a;
      --radius:16px;
      --shadow:0 8px 28px rgba(0,0,0,.28);
      --ok:#1db954;
      --err:#e74c3c;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; margin:0; }

    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg);
      color:var(--ink);
      line-height:1.75;
      min-height:100vh;
      display:flex;
      flex-direction:column;
      padding-bottom:86px; /* room for fixed bottom nav */
    }

    /* ===== Topbar (cover-page aligned) ===== */
    header{
      position:sticky; top:0; z-index:20;
      background:linear-gradient(180deg, rgba(42,42,42,.98), rgba(42,42,42,.92));
      border-bottom:1px solid var(--line);
      backdrop-filter:saturate(140%) blur(6px);
    }
    .topbar{
      max-width:1100px;
      margin:0 auto;
      padding:0.9rem 1rem;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
    }
    .brand{
      font-weight:900;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:var(--accent);
      font-size:clamp(0.95rem,3.2vw,1.15rem);
      line-height:1.2;
    }

    /* ===== Main card ===== */
    .wrapper{
      width:min(94%, 920px);
      margin: clamp(14px, 4vw, 28px) auto;
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:clamp(1.05rem, 3.8vw, 2.2rem);
    }

    h2{
      margin:0 0 .35rem 0;
      text-align:center;
      color:var(--accent);
      font-size:clamp(1.2rem,3.8vw,1.65rem);
      letter-spacing:.02em;
    }

    .sub{
      text-align:center;
      color:var(--muted);
      margin:0 0 1rem 0;
      font-weight:600;
      font-size:clamp(.95rem,2.7vw,1.02rem);
    }

    p.instructions{
      margin:0 0 1.25rem 0;
      color:var(--muted);
      font-size:clamp(.95rem,2.7vw,1.02rem);
    }

    strong{
      color:var(--accent);
      text-decoration:underline;
      text-underline-offset:3px;
      text-decoration-thickness:2px;
      font-weight:900;
    }

    /* ===== Question blocks ===== */
    .question-block{
      margin-top:12px;
      background:#252525;
      border:1px solid var(--line);
      border-radius:14px;
      padding:14px 14px;
    }

    .question-head{
      display:flex;
      gap:.75rem;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
      margin-bottom:8px;
    }

    .question-number{
      font-weight:900;
      color:var(--accent);
      letter-spacing:.06em;
    }

    .word-given{
      font-weight:900;
      letter-spacing:.14em;
      color:var(--accent);
      text-transform:uppercase;
      font-size:.92rem;
      border:1px solid rgba(255,122,26,.28);
      background:#2b2b2b;
      padding:.25rem .55rem;
      border-radius:999px;
      white-space:nowrap;
    }

    .sentence{
      margin:6px 0;
      color:var(--ink);
      font-size:clamp(.98rem,2.7vw,1.05rem);
    }

    /* ===== Inputs ===== */
    .answer-input{
      width:100%;
      margin-top:10px;
      padding: 12px 12px;
      font-size: 1rem;
      border:1px solid var(--line);
      border-radius:12px;
      background:#333;
      color:var(--ink);
      outline:none;
      text-transform: lowercase;
      min-height:44px; /* mobile tap target */
    }
    .answer-input::placeholder{ color:#8e8e8e; }

    .answer-input.correct{
      border-color:var(--ok);
      box-shadow:0 0 0 2px rgba(29,185,84,0.18);
      background:#263126;
      font-weight:800;
    }
    .answer-input.wrong{
      border-color:var(--err);
      box-shadow:0 0 0 2px rgba(231,76,60,0.16);
    }

    .answer-input:disabled{
      cursor:not-allowed;
    }

    /* ===== Example ===== */
    .example{
      background:#232323;
      border-left:5px solid var(--accent);
      padding-left:12px;
    }
    .example .answer-input{
      text-transform:none;
      font-weight:900;
      color:var(--accent);
      background:#2f2f2f;
      border-color:rgba(255,122,26,0.35);
    }

    /* ===== Submit / Score / Reveal ===== */
    .submit-block{
      margin-top:1.4rem;
      padding:1rem;
      border:1px solid var(--line);
      border-radius:var(--radius);
      background:#252525;
    }

    .submit-row{
      display:flex;
      gap:.75rem;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }

    .score-pill{
      display:inline-flex;
      align-items:center;
      gap:.55rem;
      padding:.5rem .85rem;
      border-radius:999px;
      border:1px solid var(--line);
      background:#1f1f1f;
      font-weight:900;
      min-height:44px;
    }
    .score-pill b{ color:var(--accent); }

    .actions{
      display:flex;
      gap:.6rem;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-end;
    }

    .btn{
      background:var(--accent);
      color:#111;
      border:none;
      border-radius:12px;
      padding:.75rem 1.1rem;
      cursor:pointer;
      font-size:1rem;
      font-weight:900;
      transition:transform .15s ease, filter .2s ease;
      min-height:44px; /* mobile tap target */
    }
    .btn:hover{ transform:translateY(-1px); filter:brightness(1.05); }

    .btn-ghost{
      background:transparent;
      color:var(--accent);
      border:1px solid var(--accent);
    }
    .btn-ghost:hover{ background:var(--accent); color:#111; }

    .notice{
      margin-top:.8rem;
      color:var(--muted);
      font-size:.95rem;
    }

    #answerKey{
      margin-top:1rem;
      display:none;
      border-top:1px solid var(--line);
      padding-top:1rem;
      color:var(--muted);
    }

    .key-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(240px, 1fr));
      gap:.55rem 1rem;
      margin-top:.6rem;
      font-size:.98rem;
    }
    .key-grid strong{ text-decoration:none; }

    /* ===== Bottom Navigation (cover-page aligned) ===== */
    .bottom-nav{
      position:fixed;
      bottom:0; left:0; right:0;
      background:linear-gradient(180deg, rgba(42,42,42,.98), rgba(42,42,42,.92));
      border-top:1px solid var(--line);
      display:flex;
      justify-content:space-around;
      align-items:center;
      padding:0.7rem 0.5rem;
      box-shadow:0 -2px 12px rgba(0,0,0,0.35);
      z-index:1000;
      backdrop-filter:saturate(140%) blur(6px);
    }

    .bottom-nav a{
      color:var(--accent);
      text-decoration:none;
      font-weight:900;
      font-size:0.98rem;
      padding:0.6rem 0.75rem;
      border-radius:12px;
      transition:background-color .2s ease, color .2s ease, transform .15s ease;
      text-align:center;
      flex:1;
      margin:0 4px;
      border:1px solid rgba(255,122,26,0.22);
      min-height:44px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:.35rem;
      white-space:nowrap;
    }
    .bottom-nav a:hover{
      background:var(--accent);
      color:#111;
      transform:translateY(-1px);
    }

    /* ===== Mobile-first adjustments ===== */
    @media (max-width:600px){
      .wrapper{ width:min(94%, 920px); margin: 12px auto; }
      .question-block{ padding:12px 12px; }
      .bottom-nav{ padding:0.55rem 0.45rem; }
      .bottom-nav a{ font-size:0.9rem; padding:0.55rem 0.5rem; }
      .key-grid{ grid-template-columns:1fr; }
      .actions{ width:100%; justify-content:space-between; }
      .btn{ flex:1; }
      .btn-ghost{ flex:1; }
    }

    /* ===== Larger screens ===== */
    @media (min-width:900px){
      .question-block{ padding:16px 16px; }
      .submit-block{ padding:1.15rem; }
    }

    @media print{
      header,.submit-block,.bottom-nav{ display:none; }
      body{ background:#fff; color:#000; padding:0; }
      .wrapper{ box-shadow:none; border-color:#ccc; background:#fff; }
      .question-block{ background:#fff; border-color:#ccc; }
      .answer-input{ background:#fff; color:#000; border-color:#ccc; }
    }
  </style>
</head>

<body>

<header>
  <div class="topbar">
    <div class="brand">Modern English Australia</div>
  </div>
</header>

<main class="wrapper">
  <h2>CAE Use of English</h2>
  <p class="sub">Part 4 · Key Word Transformations</p>

  <p class="instructions">
    For questions <strong>17–20</strong>, complete the second sentence so that it has a similar meaning to the first sentence,
    using the word given. Do not change the word given. You must use between <strong>three and six words</strong>, including the word given.
  </p>

  <section class="question-block example">
    <div class="question-head">
      <div class="question-number">Example: 0</div>
      <div class="word-given">ON</div>
    </div>
    <div class="sentence">James would only speak to the head of department alone.</div>
    <div class="sentence">
      James insisted
      <input type="text" class="answer-input" value="on speaking" readonly />
      to the head of department alone.
    </div>
  </section>

  <section class="question-block">
    <div class="question-head">
      <div class="question-number">17</div>
      <div class="word-given">MAY</div>
    </div>
    <div class="sentence">The CEO said, "It is possible that the meeting will be postponed until after Christmas."</div>
    <div class="sentence">
      The meeting
      <input type="text" class="answer-input" id="q17" placeholder="Your answer here" />
      until after Christmas.
    </div>
  </section>

  <section class="question-block">
    <div class="question-head">
      <div class="question-number">18</div>
      <div class="word-given">RECOMMENDED</div>
    </div>
    <div class="sentence">“You should try the new Italian restaurant in town,” she said.</div>
    <div class="sentence">
      She
      <input type="text" class="answer-input" id="q18" placeholder="Your answer here" />
      Italian restaurant in town.
    </div>
  </section>

  <section class="question-block">
    <div class="question-head">
      <div class="question-number">19</div>
      <div class="word-given">ADVISED</div>
    </div>
    <div class="sentence">“If you want to improve, you should practise every day,” the coach said.</div>
    <div class="sentence">
      The coach
      <input type="text" class="answer-input" id="q19" placeholder="Your answer here" />
      every day to improve.
    </div>
  </section>

  <section class="question-block">
    <div class="question-head">
      <div class="question-number">20</div>
      <div class="word-given">COMPLAINED</div>
    </div>
    <div class="sentence">“The order arrived late,” the client said.</div>
    <div class="sentence">
      The client
      <input type="text" class="answer-input" id="q20" placeholder="Your answer here" />
      arriving late.
    </div>
  </section>

  <!-- ===== Submit / Score / Reveal ===== -->
  <section class="submit-block" aria-label="Submit answers and score">
    <div class="submit-row">
      <div class="score-pill">Score: <b id="scoreText">—</b></div>

      <div class="actions">
        <button type="button" class="btn" id="submitBtn">Submit answers</button>
        <button type="button" class="btn btn-ghost" id="tryAgainBtn">Try again</button>
        <button type="button" class="btn btn-ghost" id="toggleKeyBtn">Show answer key</button>
      </div>
    </div>

    <div class="notice" id="noticeText">
      Submit to score. Correct answers will lock. Incorrect answers stay editable.
    </div>

    <div id="answerKey">
      <strong>Acceptable answers</strong>
      <div class="key-grid" id="keyGrid"></div>
      <div class="notice" style="margin-top:0.7rem;">
        Marking is phrase-based (your answer can include extra words, as long as it contains an acceptable phrase).
      </div>
    </div>
  </section>
</main>

<!-- Bottom Navigation Bar -->
<nav class="bottom-nav" aria-label="Bottom navigation">
  <a href="index.html">Home</a>
  <a href="part1.html">Part 1</a>
  <a href="part2.html">Part 2</a>
  <a href="part3.html">Part 3</a>
  <a href="part4.html">Part 4</a>
</nav>

<script>
  // Acceptable answers + explanations
  const answersPart4 = {
    q17: {
      words: ["may be postponed"],
      explanation: "‘May be postponed’ = possible that it will be postponed (passive)."
    },
    q18: {
      words: ["recommended trying the new"],
      explanation: "‘Recommend + -ing’ when suggesting an activity: ‘She recommended trying…’"
    },
    q19: {
      words: [
        "advised him to practise",
        "advised her to practise",
        "advised us to practise",
        "advised them to practise"
      ],
      explanation: "‘Advise someone to do something’ allows different pronouns (him/her/us/them)."
    },
    q20: {
      words: ["complained about the order"],
      explanation: "‘Complain about + noun/gerund’ = correct collocation."
    }
  };

  const ids = Object.keys(answersPart4);
  const inputs = ids.map(id => document.getElementById(id));

  const submitBtn = document.getElementById("submitBtn");
  const tryAgainBtn = document.getElementById("tryAgainBtn");
  const toggleKeyBtn = document.getElementById("toggleKeyBtn");

  const scoreText = document.getElementById("scoreText");
  const noticeText = document.getElementById("noticeText");

  const answerKey = document.getElementById("answerKey");
  const keyGrid = document.getElementById("keyGrid");

  function norm(s){
    return (s || "").trim().toLowerCase().replace(/\s+/g," ");
  }

  function buildKey(){
    keyGrid.innerHTML = "";
    ids.forEach(q=>{
      const item = answersPart4[q];
      const div = document.createElement("div");
      div.innerHTML = `<strong>${q.toUpperCase()}</strong>: ${item.words.join(" / ")}<br><em>${item.explanation}</em>`;
      keyGrid.appendChild(div);
    });
  }

  function allAnswered(){
    return inputs.every(inp => norm(inp.value) !== "");
  }

  function grade(){
    if (!allAnswered()){
      noticeText.textContent = "Please attempt all questions (17–20) before submitting.";
      return;
    }

    let score = 0;

    inputs.forEach(inp=>{
      const key = inp.id;
      const student = norm(inp.value);
      const acceptable = answersPart4[key].words.map(norm);

      inp.classList.remove("correct","wrong");

      const ok = acceptable.some(phrase => student.includes(phrase));

      if (ok){
        score++;
        inp.classList.add("correct");
        inp.disabled = true; // lock correct
      } else {
        inp.classList.add("wrong");
        inp.disabled = false;
      }
    });

    scoreText.textContent = `${score} / ${inputs.length}`;

    if (score === inputs.length){
      noticeText.textContent = "Perfect score. Nice work.";
    } else {
      noticeText.textContent = "Correct answers are locked. Fix the red ones and submit again.";
    }
  }

  submitBtn.addEventListener("click", grade);

  tryAgainBtn.addEventListener("click", ()=>{
    inputs.forEach(inp=>{
      inp.value = "";
      inp.disabled = false;
      inp.classList.remove("correct","wrong");
    });
    scoreText.textContent = "—";
    noticeText.textContent = "Reset complete. Try again.";
    answerKey.style.display = "none";
    toggleKeyBtn.textContent = "Show answer key";
  });

  toggleKeyBtn.addEventListener("click", ()=>{
    const showing = answerKey.style.display === "block";
    answerKey.style.display = showing ? "none" : "block";
    toggleKeyBtn.textContent = showing ? "Show answer key" : "Hide answer key";
  });

  buildKey();
</script>

</body>
</html>
